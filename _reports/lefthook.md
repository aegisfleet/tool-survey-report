---
# === フロントマター ===
# 【必須項目】
title: "Lefthook 調査レポート"
tool_name: "Lefthook"
tool_reading: "レフトフック"
category: "Gitフックマネージャー"
developer: "Evil Martians"
official_site: "https://lefthook.dev/"
date: "2026-02-18"
last_updated: "2026-02-18"
tags:
  - "Git"
  - "自動化"
  - "開発ツール"
  - "Go"
  - "オープンソース"
description: "Go言語製の高速なGitフック管理ツール。並列実行や柔軟なファイル指定が可能で、大規模プロジェクトや多言語プロジェクトに最適。"

# 【クイックサマリー】ホーム画面のカード表示用
quick_summary:
  has_free_plan: true
  is_oss: true
  starting_price: "無料"
  target_users:
    - "開発者"
    - "SRE"
    - "大規模チーム"
  latest_highlight: "v2.1.1リリース (2026-02-12)"
  update_frequency: "高"

# 【ツール評価】100点満点、基準点70点からの加減算方式
evaluation:
  score: 85
  base_score: 70
  plus_points:
    - point: 5
      reason: "Go言語製で実行速度が非常に速い"
    - point: 5
      reason: "並列実行を標準サポートし、CI時間を短縮できる"
    - point: 3
      reason: "モノレポや多言語プロジェクトに対応しやすい柔軟性"
    - point: 2
      reason: "ローカル設定 (lefthook-local.yml) が可能"
  minus_points: []
  summary: "高速かつ柔軟で、特に大規模プロジェクトやモノレポにおいてHuskyやpre-commitより優れた選択肢となる。"

# 【任意項目】該当するもののみ記載
links:
  github: "https://github.com/evilmartians/lefthook"
  documentation: "https://lefthook.dev/"
relationships:
  related_tools:
    - "github-actions"
    - "gitlab-ci"
    - "pre-commit"
---

# **Lefthook 調査レポート**

## **1. 基本情報**

* **ツール名**: Lefthook
* **ツールの読み方**: レフトフック
* **開発元**: Evil Martians
* **公式サイト**: [https://lefthook.dev/](https://lefthook.dev/)
* **関連リンク**:
  * GitHub: [https://github.com/evilmartians/lefthook](https://github.com/evilmartians/lefthook)
  * ドキュメント: [https://lefthook.dev/](https://lefthook.dev/)
* **カテゴリ**: Gitフックマネージャー
* **概要**: Go言語で記述された高速かつ強力なGitフック管理ツール。コマンドの並列実行や、globパターンによる柔軟なファイルフィルタリングをサポートし、あらゆる言語のプロジェクトで利用可能。特にモノレポ構成や大規模プロジェクトでのパフォーマンスに定評がある。

## **2. 目的と主な利用シーン**

* **解決する課題**:
  * 既存のGitフックツール（Huskyやpre-commitなど）の実行速度が遅い
  * モノレポ構成でのフック管理が複雑
  * チーム内でGitフックの設定を共有・統一したい
* **想定利用者**:
  * ソフトウェアエンジニア
  * フロントエンド/バックエンド開発者
  * DevOpsエンジニア
* **利用シーン**:
  * コミット前のリンター（ESLint, RuboCopなど）やフォーマッター（Prettier, Biomeなど）の自動実行
  * プッシュ前のテスト実行やセキュリティスキャン
  * コミットメッセージの形式チェック（Commitlintなど）

## **3. 主要機能**

* **並列実行**: 複数のコマンドやジョブを並列に実行し、待ち時間を大幅に短縮。
* **柔軟なファイルリスト**: ステージングされたファイルのみ、全ファイル、プッシュ対象のファイルなど、実行対象を細かく制御可能。
* **Globフィルタ**: ファイル名やパスのパターンに基づいて、特定のコマンドを実行するファイルをフィルタリング。
* **サブディレクトリ実行**: モノレポ内の特定のサブディレクトリでのみコマンドを実行可能。
* **スクリプト実行**: ワンライナーだけでなく、bashやRubyなどのスクリプトファイルもフックとして実行可能。
* **タグによるグループ化**: `frontend`, `backend`, `security` などのタグでジョブをグループ化し、必要に応じてスキップや選択実行が可能。
* **Dockerサポート**: コンテナ内でコマンドを実行するためのネイティブサポート。
* **ローカル設定**: `lefthook-local.yml` を使用して、開発者個人の環境に合わせた上書き設定が可能。

## **4. 開始手順・セットアップ**

* **前提条件**:
  * Gitがインストールされたプロジェクト
  * Go, Node.js, Ruby, Pythonなどのランタイム（インストール方法による）
* **インストール/導入**:
  Go (推奨):
  ```bash
  go install github.com/evilmartians/lefthook@latest
  ```
  Node.js (npm):
  ```bash
  npm install lefthook --save-dev
  ```
  Ruby (gem):
  ```bash
  gem install lefthook
  ```
* **初期設定**:
  設定ファイル `lefthook.yml` を作成。
  ```bash
  # Go版などの場合
  lefthook install
  ```
* **クイックスタート**:
  `lefthook.yml` の例:
  ```yaml
  pre-commit:
    parallel: true
    commands:
      linter:
        glob: "*.{js,ts}"
        run: npm run lint {staged_files}
  ```
  設定後、`git commit` を実行すると自動的にフックが動作する。

## **5. 特徴・強み (Pros)**

* **圧倒的な速度**: Go言語製であるため起動が速く、並列実行により全体の実行時間を短縮できる。
* **言語非依存 (Polyglot)**: Node.js, Ruby, Python, Goなど、あらゆる言語のプロジェクトで統一的に利用できる。
* **モノレポ対応**: ルートディレクトリからサブディレクトリのコマンドを適切に制御できる機能が豊富。
* **依存関係なし**: シングルバイナリ（Go版）で動作するため、Node.jsやRubyなどの特定のランタイムに依存せずに導入可能（各パッケージマネージャ経由でもインストール可）。

## **6. 弱み・注意点 (Cons)**

* **YAML設定の学習コスト**: シェルスクリプトを直接書くのに比べ、独自のYAML構文（glob, run, tagsなど）を覚える必要がある。
* **知名度**: Node.js界隈ではHusky、Python界隈ではpre-commitの方がデファクトスタンダードとして定着しており、チームへの導入時に説明が必要になる場合がある。
* **日本語ドキュメント**: 公式ドキュメントは英語のみ（2026年2月時点）。

## **7. 料金プラン**

| プラン名 | 料金 | 主な特徴 |
|---------|------|---------|
| **Open Source** | 無料 | 全機能利用可能。MITライセンス。 |

* **課金体系**: 完全無料
* **無料トライアル**: なし（最初から無料）

## **8. 導入実績・事例**

* **導入企業**:
  * Evil Martians (開発元)
  * その他、GitHub上で7.6k以上のスターを獲得しており、多数のOSSや企業プロジェクトで採用されている。
* **導入事例**:
  * 大規模なRails/Reactモノレポにおいて、CI/CDパイプラインの事前チェックをローカルで高速に行うために導入。
  * Docker環境下での開発において、コンテナ内でのリンター実行を自動化。
* **対象業界**: Web開発全般、特に大規模開発やマイクロサービス/モノレポ構成のプロジェクト。

## **9. サポート体制**

* **ドキュメント**: 公式サイトに詳細な設定ガイドと例がある（英語）。
* **コミュニティ**: GitHub Issues, Discussionsが活発。
* **公式サポート**: オープンソースのため、コミュニティベースのサポートが基本。

## **10. エコシステムと連携**

### **10.1 API・外部サービス連携**

* **API**: 該当なし（CLIツールのため）
* **外部サービス連携**:
  * **CI/CD**: GitHub Actions, GitLab CIなどでキャッシュを活用して高速に動作。
  * **Docker**: コンテナ内での実行を容易にする設定オプションあり。

### **10.2 技術スタックとの相性**

| 技術スタック | 相性 | メリット・推奨理由 | 懸念点・注意点 |
|:---|:---:|:---|:---|
| **Node.js / TypeScript** | ◎ | Huskyより高速。`package.json`なしでも動作可能。 | Huskyに慣れているとYAML設定に違和感があるかも。 |
| **Ruby (Rails)** | ◎ | 開発元がRubyに強いため、親和性が高い。 | 特になし。 |
| **Go** | ◎ | Go製ツールのため導入が最もスムーズ。 | 特になし。 |
| **Python** | ◯ | `pipx`などで導入可能。 | Python界隈では`pre-commit`が強力な競合。 |
| **Monorepo** | ◎ | ディレクトリごとの実行制御が強力。 | 設定ファイルが大きくなる可能性がある。 |

## **11. セキュリティとコンプライアンス**

* **認証**: 特になし（ローカルで動作するツール）
* **データ管理**: ソースコードやデータを外部に送信することはない。
* **準拠規格**: OSSとして公開されており、コードは透明性が高い。

## **12. 操作性 (UI/UX) と学習コスト**

* **UI/UX**: CLIベース。出力はカラフルで読みやすく、成功/失敗が明確。
* **学習コスト**: 低〜中。YAML設定ファイルの書き方を覚える必要があるが、ドキュメントは充実している。

## **13. ベストプラクティス**

* **効果的な活用法 (Modern Practices)**:
  * 重いタスク（テストなど）は `parallel: true` で並列化する。
  * `lefthook-local.yml` を `.gitignore` に追加し、開発者が自由にローカルフックを設定できるようにする。
  * CI環境でも `lefthook run ...` を使用して、ローカルとCIで同じチェック内容を保証する。
* **陥りやすい罠 (Antipatterns)**:
  * 全ファイル (`{all_files}`) を対象にするコマンドを多用すると、コミットが遅くなるため、可能な限り `{staged_files}` を使用する。
  * 複雑すぎるシェルスクリプトをYAML内に直接書く（別ファイルに切り出すべき）。

## **14. ユーザーの声（レビュー分析）**

* **調査対象**: GitHub, Dev.to, 技術ブログ
* **総合評価**: 非常に高い。特にパフォーマンスと柔軟性が評価されている。
* **ポジティブな評価**:
  * 「Huskyから移行したらコミット待ち時間が劇的に減った」
  * 「並列実行機能が素晴らしい」
  * 「モノレポでの設定が楽になった」
* **ネガティブな評価 / 改善要望**:
  * 「YAMLの設定ミスで動かないときのデバッグが少し難しい場合がある」
  * 「チームメンバー全員にインストールさせる手順が必要（Huskyの `prepare` スクリプトのような自動化は可能だが）」

## **15. 直近半年のアップデート情報**

* **2026-02-12 (v2.1.1)**: バグ修正とパフォーマンス改善。
* **2025年後半**:
  * AIエージェント機能の追加や強化は特に見当たらないが、安定性とエッジケースへの対応が継続的に行われている。
  * 依存ライブラリの更新やGoバージョンの追従。

(出典: [GitHub Releases](https://github.com/evilmartians/lefthook/releases))

## **16. 類似ツールとの比較**

### **16.1 機能比較表 (星取表)**

| 機能カテゴリ | 機能項目 | Lefthook | Husky | pre-commit (Python) |
|:---:|:---|:---:|:---:|:---:|
| **パフォーマンス** | 並列実行 | ◎<br><small>標準対応</small> | ×<br><small>順次実行</small> | △<br><small>設定で可能だがLefthookの方が高速</small> |
| **設定** | 柔軟性 | ◎<br><small>Glob, Regexp, Tags</small> | ◯<br><small>シェルスクリプト依存</small> | ◎<br><small>豊富な設定オプション</small> |
| **環境** | 言語非依存 | ◎<br><small>シングルバイナリ</small> | △<br><small>Node.js依存</small> | △<br><small>Python依存</small> |
| **機能** | モノレポ対応 | ◎<br><small>強力なサブディレクトリ制御</small> | △<br><small>工夫が必要</small> | ◯<br><small>対応可能</small> |
| **導入** | 手軽さ | ◯<br><small>設定ファイル作成必要</small> | ◎<br><small>npm installのみでほぼ完了</small> | ◯<br><small>設定ファイル作成必要</small> |

### **16.2 詳細比較**

| ツール名 | 特徴 | 強み | 弱み | 選択肢となるケース |
|---------|------|------|------|------------------|
| **Lefthook** | 高速・多機能 | 並列実行による速度、モノレポ対応、言語非依存 | YAML設定の学習が必要 | 大規模プロジェクト、モノレポ、CI時間を短縮したい場合 |
| **Husky** | Node.js標準 | シンプル、JSエコシステムとの親和性 | 実行速度（直列）、Node.js以外での利用 | 小〜中規模のNode.js/TypeScriptプロジェクト |
| **pre-commit** | Python標準 | 豊富なフックライブラリ、Pythonエコシステムとの親和性 | 実行速度、Python依存 | Pythonプロジェクト、既存の豊富なフック集を利用したい場合 |

## **17. 総評**

* **総合的な評価**:
  Lefthookは、現代の開発ワークフロー、特に大規模なコードベースやモノレポ構成において最適なGitフック管理ツールである。Huskyやpre-commitの抱えるパフォーマンスの課題を解消し、柔軟な設定によって複雑な要件にも対応できる。
* **推奨されるチームやプロジェクト**:
  * フロントエンドとバックエンドが混在するモノレポプロジェクト
  * コミット時のチェック項目が多く、待ち時間がストレスになっているチーム
  * CI/CDパイプラインとローカル開発環境のチェックを統一したいSREチーム
* **選択時のポイント**:
  * **速度重視**: Lefthook一択。
  * **シンプルさ重視 (Node.jsのみ)**: Huskyで十分な場合も多い。
  * **Python中心**: pre-commitのエコシステムを活用する方が楽な場合がある。
