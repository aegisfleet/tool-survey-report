# カテゴリ/タグ整理指示書

## 目的

- レポート群のカテゴリおよびtagsの語彙を統一し、類似ツール間の関連性（検索・タグページ・比較表）を高める。
- ただし、ツール本来の説明や機能を損なわないよう、保守的で検証可能な変更のみを許可する。

## 作業範囲の制限

**重要**: 1回の作業では以下のいずれか1つのみを実行する：

1. **単一レポート中心の作業**: 1つのレポートファイルを選択し、そのレポートと直接関連する2-3個のレポートのみを対象とする
2. **カテゴリ統一作業**: 特定のカテゴリ（例：「AIコーディング支援」）に属するレポートのみを対象とする
3. **タグ統一作業**: 特定のタグ（例：「エージェント」）を持つレポートのみを対象とする

## 適用対象

- 基本的に `_reports/*.md` のフロントマター（YAML）の `category` と `tags` を対象とする。
- ドキュメント本文の内容は原則不変更。タグによる関連度向上が目的。

### 定義（標準語彙）

- カテゴリ（推奨の正規化語）
  - AIコーディング支援
  - 自律型AIエージェント
  - AIコードエディタ
  - 開発者ツール
  - テスト/CI
  - データ可視化
  - インフラ/クラウド

- タグ（推奨セット、小文字/大文字混在を避ける）
  - AI
  - エージェント
  - 自律型
  - コーディング支援
  - 開発者ツール
  - CLI
  - API
  - コード生成
  - IDE
  - セキュリティ
  - 日本語対応

### ルール（変更ポリシー）

1. 最小変更: 既存の `category` が意味的に近い場合は上書きせず、補助的な `tags` を追加して関連づける。
2. カテゴリ変更が必要と判断する基準:
   - 現行カテゴリが曖昧で、より正規化カテゴリに置き換えることで検索性が明確に向上する場合。
   - ただし、置換前に必ず1名のレビュアー承認を求める（自動化されていない場合は PR を作成）。
3. タグ追加は保守的に行う。ツールが明確にその特徴を持つ場合のみ追加する（例: "Agent Mode" を持つツールには `エージェント` を追加）。
4. 統一表記: 同義の英語/日本語タグが混在している場合は日本語に統一する（例: "Agent" -> "エージェント"）。
5. キーワード衝突回避: 既にタグ数が多い場合は関連性の高い上位3つに絞る。

### チェックリスト（編集前）

- [ ] フロントマターが YAML 形式で正しくパースできる
- [ ] 追加するタグが本文中の記述（機能説明）と整合している
- [ ] 変更点は最小である（カテゴリ変更は最小限）
- [ ] 変更一覧を変更コミットメッセージに明記する（例: "standardize tags: add エージェント to github-copilot"）

## 実務手順（段階的アプローチ）

### ステップ1: 作業対象の選定

以下のいずれか1つを選択する：

- **オプションA**: 特定の1レポートを中心とした関連レポート群（最大4ファイル）
- **オプションB**: 特定カテゴリのレポート群（最大5ファイル）
- **オプションC**: 特定タグの統一作業（最大5ファイル）

### ステップ2: 事前確認

1. 対象ファイル数の確認: `ls _reports/ | grep -E "(対象パターン)" | wc -l`
2. 現在のタグ/カテゴリ状況の把握: `grep -h "^tags:\|^category:" _reports/対象ファイル*.md`
3. 作業ログファイルの作成: `echo "作業開始: $(date)" > work-log-$(date +%Y%m%d).txt`

### ステップ3: 安全な変更実行

1. **バックアップ作成**: 対象ファイルを `.bak` 拡張子でコピー
2. **1ファイルずつ変更**: 一度に1ファイルのみ編集し、即座にYAMLチェック実行
3. **変更内容の記録**: 各変更を作業ログに記録
4. **中間確認**: 3ファイル変更後に一度全体の整合性をチェック

### ステップ4: 検証とコミット

1. YAML構文チェック: 全対象ファイルのパース確認
2. 変更差分の確認: `git diff` で意図しない変更がないかチェック
3. コミット: 変更内容を明確に記述したメッセージでコミット

### ステップ5: 進捗の記録

1. **進捗状況の更新**: このファイル(`task-organizing-category-tags.md`)の末尾にある`進捗状況`セクションに、実施した作業内容を簡潔に記載する。

## 安全ガード（例外・回復）

### エラー対応手順

1. **YAML構文エラー**: 即座に `.bak` ファイルから復元し、エラー原因を特定
2. **意図しない変更**: `git checkout -- ファイル名` で即座にリバート
3. **作業中断**: 作業ログに中断理由を記録し、次回作業時に継続可能な状態を維持

### 作業継続の判断基準

- 3ファイル以上でエラーが発生した場合は作業を中断
- 1つのファイルで2回以上エラーが発生した場合は該当ファイルをスキップ
- 作業時間が30分を超えた場合は一度中断して進捗を確認

## 作業例（段階的アプローチ）

### 例1: 単一レポート中心の作業

**対象**: `_reports/jules.md` + 関連する自律型AIツール2-3個

**作業前の確認**:

```bash
grep -l "自律\|エージェント\|Agent" _reports/*.md | head -4
```

**変更例**:

- メインファイル `jules.md`:
  - 変更前 tags: `["AI", "開発者ツール", "コーディング支援", "CLI", "自律型エージェント"]`
  - 変更後 tags: `["AI", "エージェント", "自律型", "コーディング支援", "開発者ツール", "CLI"]`
- 関連ファイル: 同様の統一ルールを適用（最大3ファイル）

### 例2: カテゴリ統一作業

**対象**: `category: "AIコーディング支援"` のレポート群のみ

**作業前の確認**:

```bash
grep -l "category.*AI.*コーディング" _reports/*.md
```

## 進捗状況

- **2025-10-25**:
  - **作業内容**: AIコーディング支援ツールのカテゴリとタグを標準化。
  - **対象ファイル**:
    - `_reports/cursor.md`
    - `_reports/coderabbit.md`
    - `_reports/openhands.md`
    - `_reports/github-copilot.md`
  - **変更概要**:
    - `coderabbit.md`: `category` を `AIコーディング支援` に変更、`コーディング支援` タグを追加。
    - `openhands.md`: `category` を `自律型AIエージェント` に変更、`コーディング支援`, `エージェント`, `自律型` タグを追加。
    - `github-copilot.md`: `category` を `AIコーディング支援` に変更。
    - `cursor.md`: `コーディング支援` タグを追加。
