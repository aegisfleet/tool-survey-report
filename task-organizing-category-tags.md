# カテゴリ/タグ/関連付けの整理指示書

## 目的

- レポート群のカテゴリおよびtagsの語彙を統一し、類似ツール間の関連性（検索・タグページ・比較表）を高める。
- ただし、ツール本来の説明や機能を損なわないよう、保守的で検証可能な変更のみを許可する。

## 作業範囲の制限

**重要**: 1回の作業では以下のいずれか1つのみを実行する：

1. **単一レポート中心の作業**: 1つのレポートファイルを選択し、そのレポートと直接関連する2-3個のレポートのみを対象とする
2. **カテゴリ統一作業**: 特定のカテゴリ（例：「AIコーディング支援」）に属するレポートのみを対象とする
3. **タグ統一作業**: 特定のタグ（例：「エージェント」）を持つレポートのみを対象とする

## 適用対象

- `_reports/*.md` のフロントマター（YAML）の `category`、`tags`、`relationships` を対象とする。
- **重要**: `last_updated` フィールドは更新しない（カテゴリ・タグ整理は内容変更ではないため）。
- ドキュメント本文は原則変更しない。

### 定義（標準語彙）

- **カテゴリ（推奨の正規化語）**

  **AI関連**
  - **AIコーディング支援**: AI技術を使ったコード生成・補完ツール（例：GitHub Copilot, Cline）
  - **AIコードエディタ**: AI機能が統合されたコードエディタ（例：Cursor, Windsurf）
  - **自律型AIエージェント**: 自律的にタスクを実行するAIシステム（例：Devin, Jules, OpenHands）
  - **生成AI**: 汎用AIチャットボット・言語モデル（例：ChatGPT, Claude, Gemini）
  - **AI開発基盤**: LLM開発・運用のためのプラットフォーム（例：Hugging Face, Dify, LangChain）
  - **AI検索エンジン**: AI技術を活用した検索サービス（例：Perplexity, Felo）

  **開発ツール**
  - **開発者ツール**: 開発プロセスを支援する汎用ツール（例：Docker, Git）
  - **IDE/エディタ**: 統合開発環境・コードエディタ（例：VS Code, IntelliJ IDEA）
  - **Webフレームワーク**: Webアプリケーション開発フレームワーク（例：Next.js, Astro, Hugo）
  - **モバイル開発**: モバイルアプリ開発ツール・フレームワーク（例：Flutter, Android Studio）
  - **バージョン管理**: ソースコードの変更履歴管理ツール（例：GitHub, GitLab）

  **テスト/品質**
  - **テスト/QA**: テスト自動化・品質保証ツール全般（例：Selenium, Playwright, Cypress）
  - **コード品質**: 静的解析・コードカバレッジツール（例：SonarQube, JaCoCo）
  - **CI/CD**: 継続的インテグレーション・デプロイメントツール（例：GitHub Actions, Jenkins）

  **インフラ/運用**
  - **構成管理**: Infrastructure as Code・プロビジョニングツール（例：Terraform, Ansible）
  - **インフラ/クラウド**: クラウドサービス・インフラ管理（例：AWS, Azure）
  - **監視/可観測性**: 監視・ログ・APMツール（例：Datadog, Grafana）
  - **CDN/セキュリティ**: CDN・WAF・セキュリティサービス（例：Cloudflare）

  **業務系ツール**
  - **勤怠管理**: 勤怠管理・タイムトラッキングツール（例：KING OF TIME）
  - **人事労務**: 人事・労務管理システム（例：SmartHR, freee人事労務）
  - **プロジェクト管理**: タスク・プロジェクト管理ツール（例：Jira, Linear）
  - **ワークフロー自動化**: ノーコード/ローコードの自動化ツール（例：Zapier, n8n）
  - **ドキュメント/ナレッジ**: ドキュメント管理・ナレッジベース（例：Notion, Confluence）

  **その他**
  - **デザインツール**: 画像編集・デザイン作成ツール（例：Canva, Figma, Affinity）
  - **動画/メディア**: 動画編集・生成ツール（例：DaVinci Resolve, ElevenLabs）

- **タグ（正規化リスト）**

  使用頻度に基づく推奨タグ。新規タグ追加時は既存タグとの重複を確認すること。

  **Tier 1（必須語彙）**: 10件以上使用
  - `AI`, `オープンソース`, `生成AI`, `エージェント`, `テスト自動化`
  - `開発者ツール`, `SaaS`, `大規模言語モデル`, `自動化`, `CI/CD`, `DevOps`

  **Tier 2（推奨語彙）**: 5-9件使用
  - `コーディング支援`, `E2Eテスト`, `構成管理`, `自律型`, `クラウド`
  - `ノーコード`, `ローコード`, `会話型AI`, `IDE`, `Java`, `Python`

  **Tier 3（許可語彙）**: 3-4件使用
  - `勤怠管理`, `人事労務`, `IaC`, `RPA`, `ローカルAI`, `iPaaS`
  - `静的サイトジェネレーター`, `AIエージェント`, `API`, `BDD`, `コンテナ`, `開発環境`

  **言語タグ**: ツールが特定言語専用の場合のみ使用
  - `Python`, `Java`, `JavaScript`, `Go`, `Kotlin`

  **統一ルール**:
  - `LLM` → `大規模言語モデル` に統一
  - `Agent` → `エージェント` に統一（英語→日本語）
  - `IaC` は `構成管理` と併用可（両方記載可）

- **レポート関連付け（relationships）**
  - **目的**: レポート間の階層関係や関連性を明示し、ユーザーが関連レポートを発見しやすくする
  - **構造**: 以下の3つのフィールドで構成される階層的関連付けシステム

    ```yaml
    relationships:
      parent: "tool_name"        # 親レポート（1つのみ）
      children:                  # 子レポート（複数可）
        - "tool_name1"
        - "tool_name2"
      related_tools:             # 関連レポート（複数可）
        - "tool_name3"
        - "tool_name4"
    ```
  
  - **各フィールドの定義**:
    - **parent**: このツールの上位概念や基盤となるツール（例：GitHub Copilotの親はGitHub）
    - **children**: このツールから派生した、または密接に関連する下位ツール（例：GitHubの子はGitHub Copilot）
    - **related_tools**: 同等レベルで関連性の高いツール（競合製品、代替ツール、補完ツールなど）
  
  - **参照方法**: 全て各レポートのフロントマターで定義された `tool_name` の値（文字列）で参照する
    - 例： `_reports/github-copilot.md` の `tool_name: "GitHub Copilot"` → `"GitHub Copilot"`
    - 例： `_reports/gitlab-duo.md` の `tool_name: "GitLab Duo"` → `"GitLab Duo"`

### 変更ルール

1. **最小変更**: 既存カテゴリが適切な場合は変更せず、タグで補完する。
2. **カテゴリ変更**: 曖昧なカテゴリを標準語彙に置換する場合のみ実施。
3. **タグ統一**: 英語/日本語混在は日本語に統一（例: "Agent" → "エージェント"）。
4. **タグ数制限**: 多すぎる場合は関連性の高い上位5つに絞る。

#### 関連付け（relationships）ルール

1. **設定基準**:
   - **parent**: 明確な階層関係（プラットフォーム→機能、基盤→拡張）
     - 例：同一開発元（GitHub → GitHub Copilot）、基盤拡張（Git → GitHub/GitLab）
   - **children**: 直接的な派生・統合関係
   - **related_tools**: 競合・補完・代替ツール
     - 例：直接競合（GitHub Copilot ↔ Cursor）、補完関係（VS Code ↔ GitHub Copilot）
   - **避けるべき関連付け**: 間接的関係（Docker と Kubernetes）、異なる領域のツール

2. **妥当性確認**:
   - 参照先ファイルの存在確認
   - 双方向関係の整合性（親子関係の相互設定）
   - 循環参照の回避

3. **数の制限**:
   - **parent**: 1つのみ
   - **children**: 最大5つ
   - **related_tools**: 最大7つ

#### タグ付与の妥当性確認ルール

1. **個別調査の原則**:
   - 関連レポートにタグを追加する際は、**各ツールごとに**そのタグが本当に適切か公式情報で確認する
   - 「主レポートに付けたタグだから関連レポートにも同じタグを付ける」という安易な判断は禁止

2. **タグの妥当性確認手順**:
   - そのツールの公式サイト・ドキュメントでタグに該当する機能が明示されているか確認
   - 例：「自動化」タグを付与する場合、そのツールが自動化機能を主要機能として提供しているか確認
   - ツール本来の機能と無関係なタグは、同カテゴリであっても付与しない

3. **避けるべきパターン**:
   - カテゴリが同じ（例：勤怠管理）という理由だけで同じタグを付与する
   - 関連ツールの内容を調査せずにタグを機械的に伝播する
   - 競合ツールだからという理由で同じタグを無条件に付与する

### 編集前チェックリスト

- [ ] YAML形式の正確性確認
- [ ] ツールの主要機能を公式情報で確認済み
- [ ] カテゴリが業界標準と一致
- [ ] タグが本文の機能説明と整合
- [ ] 同カテゴリツールとの分類一貫性
- [ ] 関連付け参照先ファイルの存在確認
- [ ] 親子関係の双方向整合性
- [ ] 循環参照なし
- [ ] 関連レポートへのタグ追加時、各ツールでタグの妥当性を個別調査済み
- [ ] 最小変更の原則遵守
- [ ] `last_updated` 非更新の確認

## 実務手順（段階的アプローチ）

### ステップ1: 作業対象の選定

「作業範囲の制限」セクションに従い、1回の作業で対象とするレポートを選定する。

### ステップ2: 事前確認

1. **現状把握**:
   - `grep -h "^tags:\|^category:" _reports/対象ファイル*.md`
   - `grep -A 10 "^relationships:" _reports/対象ファイル*.md`
2. **ツール調査**（公式サイトで主要機能確認、業界標準分類との照合）
3. **参照先ファイル存在確認**

### ステップ3: 変更実行

1. **1ファイルずつ編集**: 即座にYAMLチェック
2. **中間確認**: 3ファイル毎に整合性チェック

### ステップ4: 検証とコミット

1. **YAML構文チェック**: 全ファイルのパース確認
2. **関連付け整合性**: 参照先存在・双方向関係・循環参照を確認
3. **差分確認**: `git diff` で意図しない変更チェック
4. **コミットメッセージへの明記**: 関連レポートの双方向リンクを確認した結果をコミットメッセージに明記する。変更が不要だった場合（例：「双方向リンクは既に存在していたため変更なし」）もその旨を記載する。

## 判断基準

- **複数機能ツール**: 主要機能でカテゴリ決定、副次機能はタグ
- **曖昧なケース**: 公式自己紹介文を最優先
- **変更判断**: 明らかな間違いのみ変更、疑問時は現状維持

## エラー対応

- **YAML構文エラー**: `git checkout -- ファイル名` でリバート
- **分類不明**: 変更保留、追加調査実施
- **中断基準**: 3ファイル以上でエラー発生時、または分類に確信なき場合は現状維持

## 作業例

### 例1: 単一レポート中心の作業

**対象**: `_reports/jules.md` + 関連する自律型AIツール2-3個

**作業前の確認**:

```bash
grep -l "自律\|エージェント\|Agent" _reports/*.md | head -4
```

**変更例**:

- メインファイル `jules.md`:
  - 変更前 tags: `["AI", "開発者ツール", "コーディング支援", "CLI", "自律型エージェント"]`
  - 変更後 tags: `["AI", "エージェント", "自律型", "コーディング支援", "開発者ツール", "CLI"]`
  - 関連付け追加:

    ```yaml
    relationships:
      related_tools:
        - "Devin"
        - "OpenHands"
        - "GitHub Copilot"
    ```

- 関連ファイル: 同様の統一ルールを適用し、双方向の関連付けを設定（最大3ファイル）

### 例2: カテゴリ統一作業

**対象**: `category: "AIコーディング支援"` のレポート群のみ

**作業前の確認**:

```bash
grep -l "category.*AI.*コーディング" _reports/*.md
```
